{% extends "control/base.html" %}
{% block title%}Login{%endblock title%}
{% load crispy_forms_tags %}
{% block header %}{% endblock header %}
{% block content %}
<div style="min-height: 100vh; background: linear-gradient(135deg, #E8F0FE 0%, #F5F7FA 50%, #E8F0FE 100%); display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 20px; font-family: 'Inter', sans-serif;">
    
    <!-- Logo -->
    <div class="mb-3">
        <a href="{% url 'index' %}" style="text-decoration: none;"><h1 style="color: #2563EB; font-size: 30px; font-weight: 700; margin: 0;">Control</h1></a>
    </div>
    
    <!-- Card de Login -->
    <div style="background: white; border-radius: 20px; padding-top: 40px; padding-bottom: 40px; padding-left: 30px; padding-right: 30px; width: 100%; max-width: 400px; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);">
        
        <h2 style="color: #2563EB; font-size: 1.5rem; font-weight: 700; text-align: center; margin-bottom: 30px;">Acesse sua conta</h2>
        
        <form method="post" style="margin: 0px;">
            {% csrf_token %}
            <!-- Campo Email -->
                <div style="margin-bottom: 20px;">
                    <label for="id_username" style="font-weight: 600; color: black; font-size: 18px; margin:">Email</label>
                    <input type="email" name="username" id="id_username" required class="form-control" style="background-color: #E9E9E9; border: none; border-radius: 8px; height: 50px; padding: 10px; width: 100%;" placeholder="Digite seu email">
                    <!-- Mensagens de erro específicas do campo email -->
                    {% if form.username.errors %}
                        <div style="margin-top: 5px;">
                            {% for error in form.username.errors %}
                                <p style="color: #DC2626; font-size: 0.8rem; margin: 3px 0;">
                                    {{ error }}
                                </p>
                            {% endfor %}
                        </div>
                    {% endif %}
                </div>
            <!-- Campo Senha -->
                <div style="margin-bottom: 5px;">
                    <label for="id_password" style="font-weight: 600; color: black; font-size: 18px;">Senha</label>
                    <input type="password" name="password" id="id_password" required class="form-control" style="background-color: #E9E9E9; border: none; border-radius: 8px; height: 50px; padding: 10px; width: 100%;" placeholder="Digite sua senha">
                    <!-- Mensagens de erro do campo senha -->
                    {% if form.password.errors %}
                        <div style="margin-top: 5px;">
                            {% for error in form.password.errors %}
                                <p style="color: #DC2626; font-size: 0.8rem; margin: 3px 0; font-family: Inter;">
                                    {{ error }}
                                </p>
                            {% endfor %}
                        </div>
                    {% endif %}
                    
                    <!-- MOSTRAR ERROS DE AUTENTICAÇÃO (email certo + senha errada) AQUI -->
                    {% if form.non_field_errors %}
                        <div style="margin-top: 5px;">
                            {% for error in form.non_field_errors %}
                                <p style="color: #DC2626; font-size: 0.8rem; margin: 3px 0;">
                                    {{ error }}
                                </p>
                            {% endfor %}
                        </div>
                    {% endif %}
                </div>
            <!-- Esqueci minha senha -->
            <div style="margin-bottom: 25px;">
                <a href="{% url 'usuarios:password_reset' %}" style="color: #2563EB; font-weight: 600; font-size: 16px; text-decoration: none;">Esqueci minha senha</a>
            </div>
            
            <!-- Botão Entrar -->
            <button type="submit" class="py-2" style="width: 100%; background: #2563EB; color: white; border: none; border-radius: 10px; font-size: 20px; font-weight: 600; cursor: pointer; font-family: 'Inter', sans-serif; transition: background 0.3s ease;">
                Entrar
            </button>
        </form>
    </div>
    
    <!-- Link para cadastro -->
    <div style="margin-top: 30px; text-align: center;">
        <span style="color: #2563EB; font-weight: 500;">Ainda não tem uma conta?</span><br>
        <a href="{% url 'usuarios:cadastro' %}" style="color: #2563EB; font-weight: 700; text-decoration: none; font-size: 1rem;">Inscreva-se agora</a>
    </div>
    
</div>
{% endblock %}
{% block footer %}{% endblock %}
